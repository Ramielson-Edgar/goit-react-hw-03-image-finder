{"version":3,"sources":["Button/Button.module.css","ImageGalleryItem/ImageGalleryItem.module.css","Modal/Modal.module.css","ImageGallery/ImageGallery.module.css","App.module.css","Button/Button.js","ImageGalleryItem/ImageGalleryItem.js","ImageGallery/ImageGallery.js","Modal/Modal.js","services/services.js","Searchbar/Searchbar.js","App.js","index.js","Searchbar/Searchbar.module.css"],"names":["module","exports","Button","showMoreGallery","className","s","container","type","onClick","ImageGalleryItem","webformatURL","id","imageModal","src","ImageGalleryItemImage","defaultProps","ImageGallery","gallery","map","modalRoot","document","querySelector","Modal","onHandlekeydown","e","code","props","onClose","onHandleOverlayClick","console","log","target","currentTarget","window","addEventListener","this","removeEventListener","createPortal","Overlay","children","Component","searchQuery","currentPaga","axios","get","then","respone","data","hits","Searchbar","state","inputValue","onHandleChange","value","setState","onSubmit","preventDefault","SearchForm","SearchFormButton","addnewImg","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","App","isLoding","error","showModal","largeImageURL","imgUrl","find","el","toogleModal","query","fetchGallery","option","isLoading","services","dataGallery","prevState","catch","finally","prevProps","loader","color","height","width","errorMessage","length","alt","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.15d99d1c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Button_container__1kpLV\",\"Button\":\"Button_Button__3mY6b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2Bxhj\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__RkHhT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__HR6RZ\",\"Modal\":\"Modal_Modal__9UMda\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__r_m4z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__2VQYF\"};","import React from \"react\";\r\nimport s from \"./Button.module.css\";\r\n\r\nconst Button = ({ showMoreGallery }) => {\r\n  return (\r\n    <div className={s.container}>\r\n      <button\r\n        className={s.Button}\r\n        type=\"button\"\r\n        onClick={() => showMoreGallery()}\r\n      >\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ webformatURL, id, imageModal }) => {\r\n  return (\r\n    <li className={s.ImageGalleryItem} onClick={() => imageModal(id)}>\r\n      <img src={webformatURL} className={s.ImageGalleryItemImage} />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.defaultProps = {\r\n  webformatURL:\r\n    \"https://blog.nscsports.org/wp-content/uploads/2014/10/default-img.gif\",\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string,\r\n  id: PropTypes.number,\r\n  imageModal: PropTypes.func,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem\";\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ gallery, imageModal }) => {\r\n  return (\r\n    <div>\r\n      <ul className={s.ImageGallery}>\r\n        {gallery.map(({ id, webformatURL }) => (\r\n          <ImageGalleryItem\r\n            key={webformatURL}\r\n            webformatURL={webformatURL}\r\n            imageModal={imageModal}\r\n            id={id}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  gallery: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      webformatURL: PropTypes.string,\r\n      id: PropTypes.number,\r\n    })\r\n  ),\r\n  imageModal: PropTypes.func,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.onHandlekeydown);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.onHandlekeydown);\r\n  }\r\n\r\n  onHandlekeydown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  onHandleOverlayClick = (e) => {\r\n    console.log(e.target);\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.onHandleOverlayClick}>\r\n        <div className={s.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {};\r\n\r\nexport default Modal;\r\n","import axios from \"axios\";\r\n\r\nconst BASE_URL = \"https://pixabay.com/api/\";\r\nconst API_KEY = \"7703035-f9398e8b550f311757541e4a4\";\r\n\r\nconst fetchImageGalleryWithQuery = ({ searchQuery = \"\", currentPaga = 1 }) => {\r\n  return axios\r\n    .get(\r\n      `${BASE_URL}?q=${searchQuery}&page=${currentPaga}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n    .then((respone) => respone.data.hits);\r\n};\r\n\r\nexport default { fetchImageGalleryWithQuery };\r\n","import React, { Component } from \"react\";\r\nimport s from \"./Searchbar.module.css\";\r\nimport PropTypes from \"prop-types\";\r\nimport debounce from \"lodash.debounce\";\r\nimport services from \"../services\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    inputValue: \"\",\r\n  };\r\n\r\n  onHandleChange = ({ currentTarget }) => {\r\n    const { value } = currentTarget;\r\n    this.setState({ inputValue: value });\r\n  };\r\n\r\n  onSubmit = (e) => {\r\n    console.log(e);\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({ inputValue: \"\" });\r\n  };\r\n  render() {\r\n    const { inputValue } = this.state;\r\n    return (\r\n      <div>\r\n        <header className={s.Searchbar}>\r\n          <form className={s.SearchForm} onSubmit={this.onSubmit}>\r\n            <button\r\n              type=\"submit\"\r\n              className={s.SearchFormButton}\r\n              onClick={this.addnewImg}\r\n            >\r\n              <span className={s.SearchFormButtonLabel}>Search</span>\r\n            </button>\r\n\r\n            <input\r\n              className={s.SearchFormInput}\r\n              type=\"text\"\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n              placeholder=\"Search images and photos\"\r\n              value={inputValue}\r\n              onChange={this.onHandleChange}\r\n            />\r\n          </form>\r\n        </header>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {};\r\n\r\nexport default Searchbar;\r\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport Button from \"./Button/Button\";\nimport ImageGallery from \"./ImageGallery\";\nimport Modal from \"./Modal\";\nimport Searchbar from \"./Searchbar\";\nimport services from \"./services/services\";\nimport s from \"./App.module.css\";\n\nclass App extends Component {\n  state = {\n    gallery: [],\n    isLoding: false,\n    error: null,\n    showModal: false,\n    currentPaga: 1,\n    searchQuery: \"\",\n    largeImageURL: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.searchQuery !== prevState.searchQuery) {\n      this.fetchGallery();\n    }\n  }\n\n  imageModal = (id) => {\n    const { largeImageURL, gallery } = this.state;\n\n    const imgUrl = gallery.find((el) => el.id === id);\n\n    if (largeImageURL !== \"\") {\n      this.setState(\n        { largeImageURL: imgUrl.largeImageURL },\n        this.toogleModal()\n      );\n    }\n  };\n\n  toogleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  searchQuery = (query) => {\n    this.setState({\n      searchQuery: query,\n      currentPaga: 1,\n      gallery: [],\n      error: null,\n      largeImageURL: \"\",\n    });\n    this.fetchGallery();\n  };\n\n  fetchGallery = () => {\n    const { currentPaga, searchQuery } = this.state;\n    const option = { currentPaga, searchQuery };\n\n    this.setState({ isLoading: true });\n\n    services\n      .fetchImageGalleryWithQuery(option)\n      .then((dataGallery) =>\n        this.setState((prevState) => ({\n          gallery: [...prevState.gallery, ...dataGallery],\n          currentPaga: prevState.currentPaga + 1,\n          largeImageURL: dataGallery.map((el) => el),\n        }))\n      )\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  render() {\n    const { gallery, isLoading, error, showModal, largeImageURL } = this.state;\n\n    const loader = isLoading && (\n      <Loader type=\"TailSpin\" color=\"#00BFFF\" height={80} width={80} />\n    );\n    const errorMessage = error && <p>Whoops, something went wrong</p>;\n\n    return (\n      <div className={s.container}>\n        {errorMessage}\n        <Searchbar onSubmit={this.searchQuery} />\n\n        <ImageGallery gallery={gallery} imageModal={this.imageModal} />\n\n        {loader}\n        {gallery.length > 0 && !isLoading && (\n          <Button showMoreGallery={this.fetchGallery} />\n        )}\n\n        {showModal && (\n          <Modal onClose={this.toogleModal}>\n            <div>\n              <img src={largeImageURL} alt=\"image\" />\n            </div>\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nApp.propTypes = {\n  searchQuery: PropTypes.string,\n  isLoading: PropTypes.bool,\n  showModal: PropTypes.bool,\n  currentPaga: PropTypes.number,\n  largeImageURL: PropTypes.string,\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./base.css\";\nimport App from \"./App\";\nimport \"modern-normalize/modern-normalize.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__347D3\",\"SearchForm\":\"Searchbar_SearchForm__3zvGV\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3xjC1\",\"SearchForm-button\":\"Searchbar_SearchForm-button__3t7jJ\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1tvyE\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3XQT9\"};"],"sourceRoot":""}